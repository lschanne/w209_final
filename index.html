<!DOCTYPE html>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>Brazilian Rainforest Deforesation</title>
        <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
    </head>

<body>
<div class="page">
  <!-- Load libraries -->
<script src="https://d3js.org/d3.v6.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  
  <header id="header-background">
    <div class="logo" style="padding: 0;"> </div>
    <h1>Brazilian Rainforest Deforestation</h1>
    <nav>
      <div class="dropdown">
          <button class="dropbtn">The Problem</button>
          <div class="dropdown-content">
            <a href="#section-1">Introduction</a>
            <a href="#section-2">Deforestation by Year</a>
            <a href="#section-3">Deforestation Over Time</a>
            <a href="#section-4">Scale of Total Deforestation</a>
          </div>
      </div>
      <div class="dropdown">
          <button class="dropbtn">The Impacts</button>
          <div class="dropdown-content">
            <a href="#section-5">CO<sub>2</sub> Emissions</a>
            <a href="#section-6">Factors and GHG Emissions</a>
          </div>
      </div>
      <div class="dropdown">
          <button class="dropbtn">The Causes</button>
          <div class="dropdown-content">
            <a href="#section-7">Agriculture and Fires</a>
            <a href="#section-8">Soy Beans as an Export</a>
            <a href="#section-9">Explore Exports</a>
          </div>
      </div>
      <div class="dropdown">
          <button class="dropbtn">About</button>
          <div class="dropdown-content">
            <a href="#about-authors">Authors</a>
            <a href="#about-audience">Inteded Audience</a>
            <a href="#about-data">Data Sources</a>
          </div>
      </div>
    </nav>
  </header>

  <main>

<!-- Section 1 Start -->
    <section id="section-1">
      <div>
      <h2> Introduction</h2>
          <p>
	Brazil hosts the largest Tropical Rain Forest in the world with <b>30%</b> of the world tropical forests residing within it. The country with the second largest portion, Congo, only has <b>8%</b> of the world's tropical forest. The Amazon Rain Forest is home to a diverse ecosystem which is important to local communities as well as the wider ecosystems and climate around the world. While it is an integral part of a global ecosystem, it is at risk of degradation due to deforestation over time.
        </p>

	
	<p>
	Satellite images of deforested area from July 4, 2000, to July 16, 2019 in Para, Brazil (Lighter portions represent deforested area).<br>
	Credit: <a href="https://earthobservatory.nasa.gov/images/145888/making-sense-of-amazon-deforestation-patterns">Making Sense of Amazon Deforestation Patterns by Earth Observatory NASA</a></p>
      </div>  
	<div>
	<div id="intro-image">
	<img src="https://eoimages.gsfc.nasa.gov/images/imagerecords/145000/145888/br163defores_tmo_amo_2019.gif"
		width="520" 
		height="600" /><br>
	<label for="intro-image" style="white-space: normal; font-size: small;">*All Charts will use data from 2004-2020 due to availability of deforetation data.<br></label>
	</div>
	<div>

    </section>
<!-- Section 1 end -->


<!-- Section 2 Start -->
    <section id="section-2">
      <div>
      <h2> Deforestation by Year</h2>
       <p>
	The Brazil Amazon Rainforest has been experiencing deforestation since the 1960s. It reached a peak high in 2004, and an effort to Reduce Emission from Deforestation and Forest Degradation (<b>REDD+</b>) was proposed in 2005.
       </p>
       <p>
	<b>Goal:</b> Allow user to explore rates of Deforestation between 2004 to 2020.
       </p>
       <p>
	<b>Take Away:</b> 2013 is the start of a gradual increase in Deforested area.
       </p>
      </div>

	<div id="observablehq-brazilrf_def_chart-81cab98e"></div>
	<script type="module">
	import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
	import define from "https://api.observablehq.com/d/bde65e52e9d64ac6.js?v=3";
	new Runtime().module(define, name => {
	  if (name === "brazilrf_def_chart") return new Inspector(document.querySelector("#observablehq-brazilrf_def_chart-81cab98e"));
	});
	</script>

    </section>
<!-- Section 2 end -->


<!-- Section 3 Start -->
     <section id="section-3">
      <div>
      <h2> Deforestation Over Time</h2>
	<p> 
	While the effort to Reduce Emission from Deforestation and Forest Degradation (<b>REDD+</b>) proved to help reduce deforestation in Brazil in the short term, deforested had started to increase in 2013. From 2012 to 2020 deforested area has increased by 114%. Deforested area impacts multiple aspects of Brazil's habitants as well as the rest of the world.
        </p>
        <p>
	<b>Animals</b> lost the shelter and temperature regulation that the Rainforest provided. <b>Local human communities</b> that reside within the forest area experienced a short-lived growth. Although, once their natural resources ran out, the level of development is almost identical prior to deforestation. The deforestation also causes drier soil due to the loss of trees that would usually aid in regulating regional and global water cycles.
	</p>
       <p>
	<b>Goal:</b> Allow user to filter Deforestationed between 2004 to 2020.
       </p>
       <p>
	<b>Take Away:</b> The Brazilian states Para and Mato are the two highest contributors of deforested area.
       </p>
      </div>

 	<div>
		<label for="observablehq-viewof-year-6c041b8e" style="white-space: normal; font-size: small;">Press Play or Drag Slider<br></label>
		<div id="observablehq-viewof-year-6c041b8e"></div><br>
		<div id="observablehq-brazil_def_geo-6c041b8e"></div><br>
		<div id="observablehq-brazilrf_def_state-6c041b8e"></div><br>
	</div>
	<script type="module">
	import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
	import define from "https://api.observablehq.com/d/bde65e52e9d64ac6.js?v=3";
	new Runtime().module(define, name => {
	  if (name === "viewof year") return new Inspector(document.querySelector("#observablehq-viewof-year-6c041b8e"));
	  if (name === "brazil_def_geo") return new Inspector(document.querySelector("#observablehq-brazil_def_geo-6c041b8e"));
	  if (name === "brazilrf_def_state") return new Inspector(document.querySelector("#observablehq-brazilrf_def_state-6c041b8e"));
	});
	</script>

    </section>
<!-- Section 3 End -->



<!-- Section 4 Start -->
    <section id="section-4">
      <div>
      <h2> Scale of Total Deforestation</h2>
          <p>Within the last 16 years, a total of 171,223 km² of the Brazillian Amazon Rainforest has been degraded due to deforestation. In order to understand the scale of deforested area, the top 100 largest cities are displayed next to the total deforested area from 2004 -2020. The largest city in the world, New York City, NY, is <b>5%</b> of total deforested area from 2004 - 2020. Even after combining largest citites by their country we notice a great disparity in size.
        </p>
       <p>
	<b>Goal:</b> Allow user understand the scale of deforested area from 2004 -2020 compared to top 100 largest cities.
       </p>
       <p>
	<b>Take Away:</b> USA's largest cities represents 2/3 of the size of total deforested area between 2004 -2020.
       </p>
      </div>

	<div id="observablehq-comp_chart-4d48fdae"></div>

	<script type="module">
	import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
	import define from "https://api.observablehq.com/d/bde65e52e9d64ac6.js?v=3";
	new Runtime().module(define, name => {
	  if (name === "comp_chart") return new Inspector(document.querySelector("#observablehq-comp_chart-4d48fdae"));
	});
	</script>


    </section>
<!-- Section 4 end -->


<!-- Section 5 Start -->
    <section id="section-5">
      <div>
      <h2> CO<sub>2</sub> emissions </h2>
	<p> 
	The packed bubble visual shows where Brazil’s contribution of the world total CO<sub>2</sub> emission relative to the top 
contributing countries. Even though Brazil is not a big industrial country compared with China, Canada, and India yet it has a 
significant contribution of total CO<sub>2</sub> emission and <b>40%</b> of that contribution comes for rainforest deforestation. 
Brazil represents <b>50%</b> of South America's total emissions. 
	</p>
	<p>
	Trees absorb carbon dioxide, mitigating greenhouse gas emissions produced by human activity. As climate change continues,
 trees play an important role in carbon sequestration.Tropical trees alone are estimated to provide about <b>23%</b> of the climate
 mitigation that's needed to offset climate change, according to the World Resources Institute, a non-profit global research institute.
	</p>
     </div>
	
	<iframe width="40%" height="60%" frameborder="0"
	  src="https://observablehq.com/embed/bde65e52e9d64ac6?cells=emission_impact"></iframe>

    </section>
<!-- Section 5 end -->


<!-- Section 6 Start -->
    <section id="section-6">
      <div>
      <h2> Factors and Greenhouse Gas Emission</h2>
	<p> The main causes that lead to deforestation in the Brazilian Amazon Rainforest are stated as wood extraction, agricultural and infrastructure expansion by
	<a style="white-space:nowrap;" href="https://earthobservatory.nasa.gov/features/Deforestation/deforestation_update3.php">NASA</a>.
	</p>

	<p>
	Among the major causes, agriculture is the highest contributor. Although in comparison with other factors, Land-Use (usage of land for development) stands out as a result of the effort to Reduce Emission from Deforestation and Forest Degradation (REDD+) policy in action. After its proposal, a drastic decline in Land-Use is showcased. When included it within total Greenhouse Gas (GHG) emission metric it seems as if Brazil does not have an issue with Greenhouse Gas (GHG) emissions.
	</p>
	<p>
	However, when we exclude Land-Use, Agriculture can be addressed as the highest contributor which has been steadily growing. Agriculture's contribution also fits in line with the deforested area's steady growth.
	</p>
       <p>
	<b>Goal:</b> Allow user to explore different factors increase greenhouse gases in brazil from 2004 - 2020.
       </p>
       <p>
	<b>Take Away:</b> Through REDD+ policies, Land-Use has been reduced but Agriculture still stands as a harmful factor. Further regulation should be explored to further reduce deforestation and emissions.
       </p>
      </div>
	<div>
	<label for="observablehq-ghg_comp_chart-688aef9d" style="white-space: normal; font-size: small;">*Greenhouse gas emissions – carbon dioxide, methane, nitrous oxide, and F-gases, summed & measured in tonnes of carbon-dioxide equivalents (CO₂e).<br> “Equivalent” means “having same warming effect as CO₂ over a period of 100 years”.<br></label>
	<div id="observablehq-ghg_comp_chart-688aef9d"></div>
	</div>
	<script type="module">
	import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
	import define from "https://api.observablehq.com/d/bde65e52e9d64ac6.js?v=3";
	new Runtime().module(define, name => {
	  if (name === "ghg_comp_chart") return new Inspector(document.querySelector("#observablehq-ghg_comp_chart-688aef9d"));
	});
	</script>

    </section>
<!-- Section 6 end -->


<!-- Section 7 Start -->
    <section id="section-7">
      <div>
      <h2> Agriculture and Fires</h2>
	<p> 
	Agricutlure as a contributor is concerning due to a Slash-and-Burn method used to clear land, plant crops and raise livestock. 
Major fires data collected by the National Institute for Space Research 
	<a style="white-space:nowrap;" href="https://www.kaggle.com/mbogernetto/brazilian-amazon-rainforest-degradation?select=inpe_brazilian_amazon_fires_1999_2019.csv">(INPE)</a> can be linked to deforested area over time.
	</p>
       <p>
	<b>Goal:</b> Allow user to view fire outbreaks and deforested area over time from 2004 - 2020.
       </p>
       <p>
	<b>Take Away:</b> Fires are closely related to deforested areas as unnatural fires caused by humans are common practice to clear land.
       </p>
     </div>
	<div>
	<label for="observablehq-fire_def_chart-c0065e7a" style="white-space: normal; font-size: small;">*Red represents fire outbreaks.<br></label>
	<div id="observablehq-fire_def_chart-c0065e7a"></div>
	</div>

	<script type="module">
	import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
	import define from "https://api.observablehq.com/d/bde65e52e9d64ac6.js?v=3";
	new Runtime().module(define, name => {
	  if (name === "fire_def_chart") return new Inspector(document.querySelector("#observablehq-fire_def_chart-c0065e7a"));
	});
	</script>
	
    </section>
<!-- Section 7 end -->


<!-- Section 8 Start -->
    <section id="section-8">
	<div>
	<h2> Soybeans as an Export </h2>
      	<p>Brazil is the world leading producer of Soybean with steady production increase in the past few decades. 
The world's demand  for Soybean is increasing leading to increase in deforestation  rates due to dangerous farming methods, 
namely Slash-and-Burn.
        </p>
	<b>Goal:</b> Allow user to compare Soybean exports from top producers from 2004 - 2020.
       </p>
       <p>
	<b>Take Away:</b> Brazil competes with the United States in production of Soybeans due to their clearing forests for Soybean plantations.
       </p>
        </div>

	<iframe width="40%" height="60%" frameborder="0"
	  src="https://observablehq.com/embed/bde65e52e9d64ac6?cells=brazil_soy_plot"></iframe>

    </section>
<!-- Section 8 End -->  

<!-- Section 9 Start -->
<div id="section-9" style="padding-top: 124px;">
<div id="exports_header" style="width: 100%; height: 15%;">
    <h1> Brazil Exports</h1>
    <p1>In this section, we would like to explore which products that are exported from Brazil may be associated with the deforestation of Brazilian rainforests. For this purpose, we are looking at the <a style="white-space:nowrap;" href="https://www.kaggle.com/mbogernetto/brazilian-amazon-rainforest-degradation?select=def_area_2004_2019.csv">deforestation rates from Kaggle</a> and the <a style="white-space:nowrap;" href="http://www.fao.org/faostat/en/#data/TP/metadata">export trade data from the Food and Agriculture Organization of the United Nations</a>. By comparing the trends in these data, we hope to provide guidance for experiments or regulations that are targeted at combatting the deforestation problem.</p1><br>
    <p><span style="font-weight: bold;">Goal:</span> Allow user to explore which exports from Brazil may be key factors in deforestation.</p><br>
    <p1><span style="font-weight: bold;">Takeaway:</span> Generally, export rates in Brazil are increasing at a rapid pace. Increasing production continues to jeopardize the rainforests.</p1>
</div>
<div id="exports_details" style="width: 100%; height: 120vh; padding: 0; white-space: nowrap;">
    <div id="export_selection" style="width: 15%; height: 85vh; float: left; position: sticky; top: 15vh;">
        <p style="white-space: normal; font-size: small">To help you navigate the data, we have included a multi-select for filtering the data points by product. You can hold Ctrl (Cmd on Mac) and click to select multiple export products at once. Additionally, all three plots display tooltips when you hover the cursor over specific data points.</p1>
        <label for="export_items">Choose export items:<br></label>
            <button id="filter_exports_btn" onclick="set_selections()" style="margin-top: 5px; margin-bottom: 5px;">Apply</button>
            <button id="select_all_btn" onclick="set_selections(true)" style="margin-left: 10%;">Select All</button><br>
            <select name="export_items" id="export_items" multiple style="width: 100%; height: 75%; float: center;">
                <option value="animal fats and oils (excl. butter)">animal fats and oils (excl. butter)</option>
                <option value="apple">apple</option>
                <option value="avocados">avocados</option>
                <option value="bananas">bananas</option>
                <option value="barley">barley</option>
                <option value="beans, dry">beans, dry</option>
                <option value="beef">beef</option>
                <option value="beet pulp">beet pulp</option>
                <option value="bran, maize">bran, maize</option>
                <option value="brazil nuts, shelled">brazil nuts, shelled</option>
                <option value="buckwheat">buckwheat</option>
                <option value="cake, cottonseed">cake, cottonseed</option>
                <option value="carrots and turnips">carrots and turnips</option>
                <option value="cashew">cashew</option>
                <option value="cereal">cereal</option>
                <option value="cheese, processed">cheese, processed</option>
                <option value="chicken">chicken</option>
                <option value="chocolate products nes">chocolate products nes</option>
                <option value="cider etc">cider etc</option>
                <option value="cigarettes">cigarettes</option>
                <option value="citrus">citrus</option>
                <option value="cloves">cloves</option>
                <option value="cocoa">cocoa</option>
                <option value="coconut">coconut</option>
                <option value="coffee">coffee</option>
                <option value="cotton">cotton</option>
                <option value="cream fresh">cream fresh</option>
                <option value="crude materials nes">crude materials nes</option>
                <option value="dairy products">dairy products</option>
                <option value="egg">egg</option>
                <option value="fat nes, prepared">fat nes, prepared</option>
                <option value="fatty acids">fatty acids</option>
                <option value="fatty substance residues">fatty substance residues</option>
                <option value="feed, pulp of fruit">feed, pulp of fruit</option>
                <option value="fibre crops nes">fibre crops nes</option>
                <option value="fig">fig</option>
                <option value="flour">flour</option>
                <option value="fodder and feeding stuff">fodder and feeding stuff</option>
                <option value="food prep nes">food prep nes</option>
                <option value="food wastes">food wastes</option>
                <option value="fruit">fruit</option>
                <option value="ginger">ginger</option>
                <option value="glucose and dextrose">glucose and dextrose</option>
                <option value="grape">grape</option>
                <option value="groundnut">groundnut</option>
                <option value="hides and skins">hides and skins</option>
                <option value="honey, natural">honey, natural</option>
                <option value="infant food">infant food</option>
                <option value="juice, fruit nes">juice, fruit nes</option>
                <option value="lard">lard</option>
                <option value="lemon">lemon</option>
                <option value="macaroni">macaroni</option>
                <option value="maize">maize</option>
                <option value="malt">malt</option>
                <option value="mangoes, mangosteens, guavas">mangoes, mangosteens, guavas</option>
                <option value="margarine, short">margarine, short</option>
                <option value="mat">mat</option>
                <option value="meal, meat">meal, meat</option>
                <option value="meat, dried nes">meat, dried nes</option>
                <option value="meat, duck">meat, duck</option>
                <option value="meat, horse">meat, horse</option>
                <option value="meat, pork">meat, pork</option>
                <option value="meat, turkey">meat, turkey</option>
                <option value="melons, other (inc.cantaloupes)">melons, other (inc.cantaloupes)</option>
                <option value="milk">milk</option>
                <option value="mixes and doughs">mixes and doughs</option>
                <option value="molasses">molasses</option>
                <option value="oat">oat</option>
                <option value="offal">offal</option>
                <option value="oil, boiled etc">oil, boiled etc</option>
                <option value="oil, castor beans">oil, castor beans</option>
                <option value="oil, cottonseed">oil, cottonseed</option>
                <option value="oil, essential nes">oil, essential nes</option>
                <option value="oil, maize">oil, maize</option>
                <option value="oil, palm">oil, palm</option>
                <option value="oil, rapeseed">oil, rapeseed</option>
                <option value="oilseed">oilseed</option>
                <option value="onions, shallots, green">onions, shallots, green</option>
                <option value="orange">orange</option>
                <option value="other beverages">other beverages</option>
                <option value="other food">other food</option>
                <option value="other meat">other meat</option>
                <option value="other nuts">other nuts</option>
                <option value="other vegetables">other vegetables</option>
                <option value="papayas">papayas</option>
                <option value="pastry">pastry</option>
                <option value="pepper">pepper</option>
                <option value="pet food">pet food</option>
                <option value="pig">pig</option>
                <option value="pineapple">pineapple</option>
                <option value="potatoes">potatoes</option>
                <option value="pulses">pulses</option>
                <option value="pumpkins, squash and gourds">pumpkins, squash and gourds</option>
                <option value="rice">rice</option>
                <option value="root">root</option>
                <option value="rubber">rubber</option>
                <option value="sesame seed">sesame seed</option>
                <option value="sorghum">sorghum</option>
                <option value="soya sauce">soya sauce</option>
                <option value="soybean">soybean</option>
                <option value="spices nes">spices nes</option>
                <option value="starch, cassava">starch, cassava</option>
                <option value="straw husks">straw husks</option>
                <option value="sugar">sugar</option>
                <option value="sunflower">sunflower</option>
                <option value="sweet corn">sweet corn</option>
                <option value="sweet potatoes">sweet potatoes</option>
                <option value="tallow">tallow</option>
                <option value="tangerines, mandarins, clementines, satsumas">tangerines, mandarins, clementines, satsumas</option>
                <option value="tea">tea</option>
                <option value="textile fibres">textile fibres</option>
                <option value="tobacco">tobacco</option>
                <option value="tomato">tomato</option>
                <option value="wafers">wafers</option>
                <option value="watermelon">watermelon</option>
                <option value="waters,ice etc">waters,ice etc</option>
                <option value="wheat">wheat</option>
                <option value="wine">wine</option>
                <option value="wool">wool</option>

            </select><br>
    </div>
    <div id="plots_container" style="width: 75%; height: 100%; padding-left: 15%;">
            <div id="deforestation" style="width: 100%; height:33%;"></div><br>
            <div id="exports" style="width: 100%; height:33%;"></div><br>
            <div id="correlation" style="width: 100%; height:33%;"></div><br>
    </div>
</div>

<script>
    var corr_data,
        deforestation_data,
        export_data,
        point_size = 60,
        max_year = 2020,
        min_year = 2004,
        years = [];
    
    let year = min_year;
    while (year <= max_year) {
        years.push(year);
        year = year + 1;
    }

    d3.csv("./data/processed/brazil_corr_data.csv").then(function(data) {
        corr_data = data;
        max_exported_tonnes = -Infinity;
        d3.csv("./data/processed/brazil_deforested_area.csv").then(function(data) {
            deforestation_data = data;
            plot_deforestation(deforestation_data);
            d3.csv("./data/processed/brazil_exports.csv").then(function(data) {
                export_data = data;
                set_selections(true);
            })
        })
    })

    function set_selections(select_all=false) {
        if (select_all) {
            $("#export_items > option").each(function () {
                $(this).prop("selected", true);
            })
            plot_correlations(corr_data);
            plot_exports(export_data);
        } else {
            var selection_map = {},
                selected_corr_data = [],
                selected_export_data = [];

            $("#export_items :selected").map(
                (_, e) => selection_map[e.value] = true
            );
            for (let iii in corr_data) {
                let d = corr_data[iii];
                if (selection_map[d.item]) {
                    selected_corr_data.push(d);
                }
            }
            for (let iii in export_data) {
                let d = export_data[iii];
                if (selection_map[d.item]) {
                    selected_export_data.push(d);
                }
            }
            plot_correlations(selected_corr_data);
            plot_exports(selected_export_data);
        }
    }

    function plot_correlations(data) {
        var selector = "#correlation",
            div = $(selector),
            spec = {
                $schema: "https://vega.github.io/schema/vega-lite/v5.json",
                description: "Correlation between deforestation and exportation",
                data: {values: data},
                mark: {type: "point", filled: true, size: point_size},
                encoding: {
                    x: {field: "total_tonnes_exported", type: "quantitative", title: "Total Tonnes Exported", scale: {type: "log", domain: [10000, 900000000]}},
                    y: {field: "corr", type: "quantitative", title: "Annual Corr: Tonnes Exported and DF Area (km^2)", scale: {domain: [-1, 1]}},
                    color: {field: "item", type: "nominal", title: "Item", legend: {columns: 2}},
                    tooltip: [
                        {field: "item", type: "nominal", title: "Item"},
                        {field: "total_tonnes_exported", type: "quantitative", title: "Total Tonnes Exported", format: ".3s"},
                        {field: "corr", type: "quantitative", title: "Correlation", format: ".3f"},
                        {field: "n", type: "quantitative", title: "Years Measured", format: ".0f"}
                    ]
                },
                title: "Correlation Between Tonnes Exported and Deforested Area (km^2) Annually v. Total Tonnes Exported by Product",
                width: div.width(),
                height: div.height(),
                autosize: {type: "fit", contains: "padding"}
            };
        vegaEmbed("#correlation", spec);
    }

    function plot_deforestation(data) {
        var selector = "#deforestation",
            div = $(selector),
            spec = {
                $schema: "https://vega.github.io/schema/vega-lite/v5.json",
                description: "Deforestation rates by year",
                data: {values: data},
                mark: {
                    type: "line",
                    point: {size: point_size}
                },
                encoding: {
                    x: {field: "year", type: "quantitative", title: "Year", scale: {domain: [min_year, max_year]}, axis: {values: years, format: "d"}},
                    y: {field: "deforested_area_km2", type: "quantitative", title: "Deforested Area (km^2)"},
                    tooltip: [
                        {field: "year", type: "ordinal", title: "Year"},
                        {field: "deforested_area_km2", type: "quantitative", title: "Deforested Area (km^2)", format: ".3s"}
                    ]
                },
                title: "Total Deforested Area per Year",
                width: div.width(),
                height: div.height(),
                autosize: {type: "fit", contains: "padding"}
            };
        vegaEmbed("#deforestation", spec);
    }

    function plot_exports(data) {
        console.log(data);
        var selector = "#exports",
            div = $(selector),
            spec = {
                $schema: "https://vega.github.io/schema/vega-lite/v5.json",
                description: "Tonnes exported by year and by item",
                data: {values: data},
                mark: {
                    type: "line",
                    point: {size: point_size}
                },
                encoding: {
                    x: {field: "year", type: "quantitative", title: "Year", scale: {domain: [min_year, max_year]}, axis: {values: years, format: "d"}},
                    y: {field: "tonnes_exported", type: "quantitative", title: "Tonnes Exported"},
                    color: {field: "item", type: "nominal", title: "Item", legend: {columns: 2}},
                    tooltip: [
                        {field: "item", type: "nominal", title: "Item"},
                        {field: "year", type: "ordinal", title: "Year"},
                        {field: "tonnes_exported", type: "quantitative", title: "Tonnes Exported", format: ".3s"}
                    ]
                },
                title: "Tonnes Exported Annually from Brazil by Product",
                width: div.width(),
                height: div.height(),
                autosize: {type: "fit", contains: "padding"}
            };
        vegaEmbed("#exports", spec);
    }
</script>
</div>
   
<!-- Section 9 End-->

 
  </main>
  <footer id="about-section">
    <h1>About</h1>
    <div id="about-authors">
        <h2>Authors:</h2>
        <p>Kritesh Shrestha | <a href="mailto:kkshrestha@ischool.berkeley.edu">kkshrestha@ischool.berkeley.edu</a></p>
        <p>Mohamed Gesalla | <a href="mailto:mgesalla@ischool.berkeley.edu">mgesalla@ischool.berkeley.edu</a></p>
        <p>Luke Schanne | <a href="mailto:lschanne@ischool.berkeley.edu">lschanne@ischool.berkeley.edu</a></p>
    </div>
    <div id="about-audience">
        <h2>Intended Audience</h2>
        <p>We are hoping to reach conservationists, researchers, policy makers, and concerned global citizens with this information about the issues surrounding Brazilian Rainforest Deforestation. If we can educate our audiences about the problem and inspire them to take measures to alleviate its causes, we can help shape a future where the rainforest continues to thrive as a natural treasure.</p>
    </div>
    <div id="about-data">
        <h2>Data Sources:</h2>
        <p><a href="http://www.obt.inpe.br/OBT/assuntos/programas/amazonia/prodes">http://www.obt.inpe.br/OBT/assuntos/programas/amazonia/prodes</a></p>
        <p><a href="https://www.kaggle.com/mbogernetto/brazilian-amazon-rainforest-degradation">https://www.kaggle.com/mbogernetto/brazilian-amazon-rainforest-degradation</a></p>
        <p><a href="https://ourworldindata.org/co2/country/brazil">https://ourworldindata.org/co2/country/brazil</a></p>
        <p><a href="http://www.fao.org/faostat/en/#data/TP/metadata">http://www.fao.org/faostat/en/#data/TP/metadata</a></p>
    </div>
</footer>
  
</div>
</body>
</html>